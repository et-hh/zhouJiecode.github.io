(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{229:function(e,t,n){"use strict";n.r(t);var a=n(0),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h3",{attrs:{id:"项目结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目结构","aria-hidden":"true"}},[e._v("#")]),e._v(" 项目结构")]),e._v(" "),n("pre",[n("code",[e._v("src\n    --common\n        --js\n        --css\n        --img\n        --lib\n    --components\n    --config(用于配置项目接口基本路径和静态资源访问路径等)\n    --lang(语言包)\n    --page(页面)\n    --router\n    --store\n    app.vue\n    main.js\n")])]),e._v(" "),n("h3",{attrs:{id:"在主css中重定义组件样式及公共样式，所有子文件样式均使用scoped"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在主css中重定义组件样式及公共样式，所有子文件样式均使用scoped","aria-hidden":"true"}},[e._v("#")]),e._v(" 在主css中重定义组件样式及公共样式，所有子文件样式均使用scoped")]),e._v(" "),n("h3",{attrs:{id:"属性和事件绑定"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#属性和事件绑定","aria-hidden":"true"}},[e._v("#")]),e._v(" 属性和事件绑定")]),e._v(" "),n("p",[e._v('事件绑定简写为 @event=“eventHandle”\n属性绑定简写为  :attr="attrValue"\n'),n("code",[e._v('<el-input @focus="handleFocus" :placeholder="\'default\'"></el-input>')])]),e._v(" "),n("h3",{attrs:{id:"事件绑定与属性后缀"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件绑定与属性后缀","aria-hidden":"true"}},[e._v("#")]),e._v(" 事件绑定与属性后缀")]),e._v(" "),n("p",[e._v("事件修饰符包括: stop prevent enter capture self once passive\n按键修饰符包括：.enter .tab .delete .esc .space .up .down .left .right等\n可以通过全局 config.keyCodes 对象自定义按键修饰符别名：\n// 可以使用 "),n("code",[e._v("v-on:keyup.f1")]),e._v(" "),n("code",[e._v("Vue.config.keyCodes.f1 = 11")]),e._v("\nv-model修饰符包括：lazy、number、trim")]),e._v(" "),n("h3",{attrs:{id:"mixins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mixins","aria-hidden":"true"}},[e._v("#")]),e._v(" mixins")]),e._v(" "),n("p",[e._v("mixins.js:")]),e._v(" "),n("pre",[n("code",[e._v("export const tooltipMixin = {\n    data() {\n        return {\n            tooltipContent: ''\n        }\n     },\n    methods: {\n        handleMouseOverTemp(e, str) {\n            if(e.target.scrollWidth > e.target.offsetWidth) {\n                const tooltip = this.$refs.tooltop\n                this.tooltipContent = str\n                tooltip.referenceElm = str\n                ...\n            }\n        }\n    }\n}\n")])]),e._v(" "),n("p",[e._v("xx.vue:")]),e._v(" "),n("pre",[n("code",[e._v("<input @handleMouseOverTemp=\"handleMouseOverTemp\">\n\nimport { tooltipMixin } from 'mixin'\nexport default {\n    mixins: [tooltipMixin],\n    ...\n}\n")])]),e._v(" "),n("h3",{attrs:{id:"相对路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相对路径","aria-hidden":"true"}},[e._v("#")]),e._v(" 相对路径")]),e._v(" "),n("p",[e._v("webpack配置根路径描述符：")]),e._v(" "),n("pre",[n("code",[e._v("resolve: {\n    alias: {\n        '@': path.join(__dirname,  '..', 'src')\n    }\n}\n")])]),e._v(" "),n("p",[e._v("js、vue文件中引用文件：")]),e._v(" "),n("pre",[n("code",[e._v("import a from ‘@/common/a.js’\n")])]),e._v(" "),n("p",[e._v("css中引用文件：")]),e._v(" "),n("pre",[n("code",[e._v("@import ‘~@/common/img/a.jpg’\n")])]),e._v(" "),n("h3",{attrs:{id:"mapstate-mapmutation-mapaction-mapgetters"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mapstate-mapmutation-mapaction-mapgetters","aria-hidden":"true"}},[e._v("#")]),e._v(" mapState mapMutation mapAction mapGetters")]),e._v(" "),n("pre",[n("code",[e._v("import { mapState } from 'vueX'\nexport default {\n    computed: {\n        ..mapState(['useId', 'companyId'])\n    }\n}\n")])]),e._v(" "),n("h3",{attrs:{id:"括号之前一定要加分号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#括号之前一定要加分号","aria-hidden":"true"}},[e._v("#")]),e._v(" 括号之前一定要加分号")]),e._v(" "),n("pre",[n("code",[e._v("var b, a = []\n(b || []).map(() => {})\n")])]),e._v(" "),n("p",[e._v("这种会报错 "),n("code",[e._v("Uncaught TypeError: [] is not a function")]),e._v("，括号前必须有分号，否则浏览器会认为括号前的内容是函数")]),e._v(" "),n("h3",{attrs:{id:"async-await"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#async-await","aria-hidden":"true"}},[e._v("#")]),e._v(" async await")]),e._v(" "),n("p",[e._v("使用"),n("code",[e._v("async await")]),e._v("来优化代码结构")]),e._v(" "),n("pre",[n("code",[e._v("async function fun(){\n    var data = await getData()\n    ...\n}\n")])]),e._v(" "),n("p",[e._v("当顺序多个异步调用时，可以使用"),n("code",[e._v("async await")]),e._v("，也可以直接使用"),n("code",[e._v("promise")]),e._v(" "),n("strong",[e._v("当每个异步后逻辑较长时，应使用"),n("code",[e._v("promise")]),e._v("而非"),n("code",[e._v("aysnc await")])]),e._v("，这样每个异步及其后续逻辑放在一个独立then函数中，结构更清晰")]),e._v(" "),n("h3",{attrs:{id:"用户信息及token应保存于程序内部"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户信息及token应保存于程序内部","aria-hidden":"true"}},[e._v("#")]),e._v(" 用户信息及token应保存于程序内部")]),e._v(" "),n("p",[e._v("用户信息及token应保存于程序内部，只有刷新时才于main.js去sessionStorage获取，后续项目代码中应直接使用程序内部变量，不能再使用sessionStorage获取信息（页面双开时使用localstorage可能会发生冲突，sessionstorage不会，因为sessionstorage只作用于当个标签页）")]),e._v(" "),n("h3",{attrs:{id:"在router-beforeeach钩子中进行鉴权处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在router-beforeeach钩子中进行鉴权处理","aria-hidden":"true"}},[e._v("#")]),e._v(" 在router.beforeEach钩子中进行鉴权处理")]),e._v(" "),n("pre",[n("code",[e._v("router.beforeEach（(to, from, next) => {\n    // 登录鉴权失败\n    if(!hasLoginRight(to)){\n        if(from.path !== '/'){\n            //401 timeout\n            next()\n            return\n        }\n        goToLogin(next)\n    }\n\n    // 菜单鉴权失败\n    if(!hasMenuRight(to)){\n        if(hasMenuRight(from) && from.path !== '/' && to.path !== '/'){\n            //保持路由\n            next({\n                path: from.path\n            });\n            return;\n        }\n        goToLogin(next)\n        return;\n    }\n\n    next()\n}）\n")])]),e._v(" "),n("h3",{attrs:{id:"路由动态加载使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#路由动态加载使用","aria-hidden":"true"}},[e._v("#")]),e._v(" 路由动态加载使用")]),e._v(" "),n("pre",[n("code",[e._v("const home = r => require.ensure([], () => r(require('../page/home/home')), 'home')\n{ path: '/t', component: () => import(/* webpackChunkName: \"test1\" */'../page/home/home.vue') }\n")])]),e._v(" "),n("p",[e._v("使用import需要配置.babelrc文件：")]),e._v(" "),n("pre",[n("code",[e._v('{\n    "plugins": [\n        "syntax-dynamic-import"\n    ]\n}\n')])]),e._v(" "),n("p",[e._v("不直接使用require，这样可以给文件命名；这种方式为chunk命名还需在output中配置chunkname的格式")])])}),[],!1,null,null,null);t.default=r.exports}}]);